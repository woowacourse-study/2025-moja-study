# Chapter 3. λλ‹¤ ν‘ν„μ‹

## μ΄ μ¥μ λ‚΄μ©

- κ° μ§λ¬Έμ— λ€ν•μ—¬ μ±…μ λ‚΄μ©μ„ ν† λ€λ΅ μμ λ΅­κ² μ‘μ„±ν•΄μ£Όμ„Έμ” π§Ά

---

### λλ‹¤λ€ λ¬΄μ—‡μΈκ°€?

λλ‹¤ ν‘ν„μ‹μ€ λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ” μµλ… ν•¨μλ¥Ό λ‹¨μν™”ν• κ²ƒμ΄λ‹¤. μ΄λ¦„μ΄ μ—†μΌλ©°, νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””(λ³Έλ¬Έ), λ°ν™ νƒ€μ…, λ°μƒ κ°€λ¥ν• μμ™Έ λ©λ΅μ„ κ°€μ§ μ μλ‹¤. 

λλ‹¤λ” λ‹¤μκ³Ό κ°™μ€ νΉμ§•μ„ κ°€μ§„λ‹¤:
- μµλ…μ„±: μ΄λ¦„μ΄ μ—†λ‹¤.
- ν•¨μμ : νΉμ • ν΄λμ¤μ— μΆ…μ†λμ§€ μ•κ³ , ν•¨μμ²λΌ λ™μ‘ν•λ‹¤.
- μ „λ‹¬ κ°€λ¥: λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬ν•κ±°λ‚ λ³€μμ— μ €μ¥ν•  μ μλ‹¤.
- κ°„κ²°μ„±: μµλ… ν΄λμ¤λ³΄λ‹¤ ν›¨μ”¬ κ°„κ²°ν•κ² μ½”λ“λ¥Ό μ‘μ„±ν•  μ μλ‹¤.

μμ‹:
```java
public static void main(String[] args) {
    (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())
}
```

### μ–΄λ””μ—, μ–΄λ–»κ² λλ‹¤λ¥Ό μ‚¬μ©ν•λ”κ°€?

λλ‹¤ ν‘ν„μ‹μ€ ν•¨μν• μΈν„°νμ΄μ¤(λ‹¨ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό κ°–λ” μΈν„°νμ΄μ¤)κ°€ κΈ°λ€λλ” κ³³μ—μ„ μ‚¬μ©ν•  μ μλ‹¤. 

λ€ν‘μ μΌλ΅ λ‹¤μκ³Ό κ°™μ€ μƒν™©μ—μ„ ν™μ©λλ‹¤:
- μ»¬λ ‰μ… μ •λ ¬, ν•„ν„°λ§, λ§¤ν•‘ λ“± λ‹¤μ–‘ν• APIμ—μ„ λ™μ‘(behavior)μ„ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•  λ•
- μ΄λ²¤νΈ μ²λ¦¬, μ½λ°± λ“± λ™μ‘μ„ μ½”λ“λ΅ μ „λ‹¬ν•΄μ•Ό ν•  λ•
- μ¤νΈλ¦Ό APIμ™€ ν•¨κ» λ°μ΄ν„° μ²λ¦¬ νμ΄ν”„λΌμΈμ„ κµ¬μ„±ν•  λ•

μμ‹:
```java
public static void main(String[] args) {
    inventory.sort((a1, a2) -> a1.getWeight().compareTo(a2.getWeight()));
}
```

### μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄

μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄μ€ μμ› μ²λ¦¬ μ½”λ“μ—μ„ κ³µν†µμ μΌλ΅ λ°λ³µλλ” μ„¤μ •κ³Ό μ •λ¦¬ κ³Όμ •μ„ μ¶”μƒν™”ν•κ³ , μ‹¤μ  μ‘μ—…(λ™μ‘)λ§μ„ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•λ” ν¨ν„΄μ΄λ‹¤. 

λλ‹¤λ¥Ό μ‚¬μ©ν•λ©΄ μ‹¤μ  μ‘μ—… λ¶€λ¶„λ§μ„ κ°„κ²°ν•κ² μ „λ‹¬ν•  μ μλ‹¤.

μμ‹:
```java
public String processFile(BufferedReaderProcessor p) throws IOException {
    try (BufferedReader br = new BufferedReader(new FileReader("test.txt"))) {
        return p.process(br);
    }
}
// μ‚¬μ© μμ‹
String result = processFile(br -> br.readLine());
```
μ΄λ ‡κ² ν•λ©΄ νμΌ μ—΄κΈ°/λ‹«κΈ°(μ„¤μ •κ³Ό μ •λ¦¬)λ” μ¬μ‚¬μ©ν•κ³ , μ‹¤μ  μ½κΈ° λ™μ‘λ§ λλ‹¤λ΅ μ „λ‹¬ν•  μ μλ‹¤.


### ν•¨μν• μΈν„°νμ΄μ¤

ν•¨μν• μΈν„°νμ΄μ¤λ” μ¤μ§ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§μ„ κ°€μ§€λ” μΈν„°νμ΄μ¤λ‹¤. λλ‹¤ ν‘ν„μ‹μ€ μ΄ μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ‚¬μ©λλ‹¤. 

λ€ν‘μ μΈ ν•¨μν• μΈν„°νμ΄μ¤λ΅λ” `Predicate<T>`, `Function<T, R>`, `Consumer<T>`, `Supplier<T>` λ“±μ΄ μλ‹¤.

μλ°” 8λ¶€ν„° `@FunctionalInterface` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄ ν•¨μν• μΈν„°νμ΄μ¤μ„μ„ λ…μ‹ν•  μ μλ‹¤.

μμ‹:
```java
@FunctionalInterface
public interface BufferedReaderProcessor {
    String process(BufferedReader b) throws IOException;
}
```

### ν•μ‹ μ¶”λ΅ 

λλ‹¤ ν‘ν„μ‹μ—μ„ νλΌλ―Έν„°μ νƒ€μ…μ„ λ…μ‹ν•μ§€ μ•μ•„λ„, μ»΄νμΌλ¬κ°€ μ»¨ν…μ¤νΈμ—μ„ νƒ€μ…μ„ μ¶”λ΅ ν•λ‹¤. μ¦‰, ν•¨μν• μΈν„°νμ΄μ¤μ λ©”μ„λ“ μ‹κ·Έλ‹μ²μ— λ§μ¶° μλ™μΌλ΅ νƒ€μ…μ΄ κ²°μ •λλ‹¤.

μμ‹:
```java
public static void main(String[] args) {
    // νƒ€μ… λ…μ‹
    (List<String> list) -> list.isEmpty()
    // ν•μ‹ μ¶”λ΅ 
    list -> list.isEmpty()
}
```
μ΄μ²λΌ λ¶ν•„μ”ν• νƒ€μ… μ„ μ–Έμ„ μƒλµν•΄ μ½”λ“κ°€ λ” κ°„κ²°ν•΄μ§„λ‹¤.

### λ©”μ„λ“ μ°Έμ΅°

λ©”μ„λ“ μ°Έμ΅°(Method Reference)λ” κΈ°μ΅΄ λ©”μ„λ“λ¥Ό λλ‹¤μ²λΌ μ „λ‹¬ν•  λ• μ‚¬μ©ν•λ” κ°„κ²°ν• λ¬Έλ²•μ΄λ‹¤.

λλ‹¤ ν‘ν„μ‹μ΄ λ‹¨μν κΈ°μ΅΄ λ©”μ„λ“ ν•λ‚λ§ νΈμ¶ν•λ” κ²½μ°, λ©”μ„λ“ μ°Έμ΅°λ΅ λ€μ²΄ν•  μ μλ‹¤.

ν•νƒ:
- `ClassName::staticMethod`
- `object::instanceMethod`
- `ClassName::instanceMethod`

μμ‹:
```java
public static void main(String[] args) {
    // λλ‹¤ ν‘ν„μ‹
    inventory.sort((a1, a2) -> a1.getWeight().compareTo(a2.getWeight()));
    // λ©”μ„λ“ μ°Έμ΅°
    inventory.sort(Comparator.comparing(Apple::getWeight));
}
```
λ©”μ„λ“ μ°Έμ΅°λ” κ°€λ…μ„±μ„ λ†’μ΄κ³ , μ½”λ“ μ¤‘λ³µμ„ μ¤„μ—¬μ¤€λ‹¤.

### λλ‹¤ λ§λ“¤κΈ°

λλ‹¤ ν‘ν„μ‹μ€ λ‹¤μκ³Ό κ°™μ€ ν•μ‹μΌλ΅ μ‘μ„±ν•λ‹¤:

- ν‘ν„μ‹ μ¤νƒ€μΌ: `(parameters) -> expression`
- λΈ”λ΅ μ¤νƒ€μΌ: `(parameters) -> { statements; }`

```java
public static void main(String[] args) {
    (String s) -> s.length()
    (x, y) -> {
        System.out.println(x + y);
        return x + y;
    }
    () -> 42
}
```

